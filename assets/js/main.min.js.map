{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/config/index.js","webpack:///./src/js/Baidu.js","webpack:///./src/js/Comment.js","webpack:///./src/js/index.js","webpack:///./src/utils/index.js"],"names":[],"mappings":";QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;;AClFA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEe;AACf;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;;;;;;;;;;;;;AC9BD;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEmC;;AAE5B;AACP;AACA,GAAG;AACH;AACA,2CAA2C,qDAAM,iBAAiB;AAClE;AACA;AACA,GAAG;AACH;;;;;;;;;;;;;AClBA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;AAE0C;;AAE1C;AACA;AACA;AACO;AACP;AACA;AACA,MAAM,+DAAU;AAChB;AACA;AACA,UAAU,+DAAU;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;;;;;;;;;;;;AC/BA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEmC;AACM;AACH;AACtC,WAAW,aAAa;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,UAAU,OAAO;AACjB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,UAAU,OAAO;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA,QAAQ,OAAO;AACf;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,UAAU,OAAO;AACjB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,yCAAyC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA,8BAA8B,0BAA0B;AACxD;AACA,QAAQ;AACR;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,6BAA6B,0BAA0B;AACvD;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA,IAAI,qDAAM;AACV,EAAE,8DAAe;AACjB;AACA;AACA,GAAG,qDAAM;AACT,EAAE,2DAAU,CAAC,qDAAM;AACnB;;AAEA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;;;;;;;;;;;;;ACx/BD;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA","file":"main.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/js/index.js\");\n","/**\r\n * @name: 主题全部配置\r\n * @author: SunSeekerX\r\n * @Date: 2020-05-24 12:24:52\r\n * @LastEditors: SunSeekerX\r\n * @LastEditTime: 2020-05-28 18:10:58\r\n */\r\n\r\nexport default {\r\n  baiduTongji: {\r\n    // 百度统计key\r\n    key: '3f0d7a82297c929467637543290d6e37',\r\n  },\r\n  // valine配置\r\n  valineOptions: {\r\n    el: '#vcomments',\r\n    // leancloud 应用 appid\r\n    appId: '4zCOQmtHXSOvLlPnTV108NOw-gzGzoHsz',\r\n    // leancloud 应用 appkey\r\n    appKey: 'sMdusoM6SbN9tgyCCKzTIwif',\r\n    // serverURLs: leancloudServerURL,\r\n    notify: true,\r\n    verify: true,\r\n    avatar: 'mm',\r\n    visitor: true, // 文章访问量统计\r\n    highlight: true, // 代码高亮\r\n    recordIP: true, // 是否记录评论者IP\r\n    placeholder: '请您理智发言，共建美好社会！',\r\n    path: window.location.pathname, // **请确保必须写该属性\r\n  },\r\n}\r\n","/**\r\n * @name: 百度相关的服务\r\n * @author: SunSeekerX\r\n * @Date: 2020-05-28 17:57:58\r\n * @LastEditors: SunSeekerX\r\n * @LastEditTime: 2020-05-28 18:00:46\r\n */\r\n\r\nimport config from '@/config/index'\r\n\r\nexport function initBaiduTongji() {\r\n  var _hmt = _hmt || []\r\n  ;(function () {\r\n    var hm = document.createElement('script')\r\n    hm.src = `https://hm.baidu.com/hm.js?${config.baiduTongji.key}`\r\n    var s = document.getElementsByTagName('script')[0]\r\n    s.parentNode.insertBefore(hm, s)\r\n  })()\r\n}\r\n","/**\r\n * @name:\r\n * @author: SunSeekerX\r\n * @Date: 2020-05-28 18:05:10\r\n * @LastEditors: SunSeekerX\r\n * @LastEditTime: 2020-05-28 18:13:55\r\n */\r\n\r\nimport { loadScript } from '@/utils/index'\r\n\r\n/**\r\n * @name 初始化Valine\r\n */\r\nexport function initValine(valineOptions) {\r\n  if ($('#vcomments').length !== 0) {\r\n    if (typeof window.Valine === 'undefined') {\r\n      loadScript(\r\n        '//cdn.jsdelivr.net/npm/leancloud-storage/dist/av-min.js',\r\n        function () {\r\n          loadScript(\r\n            'https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js',\r\n            function () {\r\n              new Valine(valineOptions)\r\n            }\r\n          )\r\n        }\r\n      )\r\n    } else {\r\n      new Valine(valineOptions)\r\n    }\r\n  }\r\n}\r\n","/**\r\n * @name:\r\n * @author: SunSeekerX\r\n * @Date: 2020-05-28 17:23:32\r\n * @LastEditors: SunSeekerX\r\n * @LastEditTime: 2020-05-28 18:15:58\r\n */\r\n\r\nimport config from '@/config/index'\r\nimport { initBaiduTongji } from './Baidu'\r\nimport { initValine } from './Comment'\r\n// import { loadScript } from '@/utils/index'\r\nvar loadFiles = {\r\n  js: [],\r\n  css: [],\r\n}\r\n\r\nwindow.pivot = {\r\n  init: init,\r\n}\r\nvar _prevent_scroll = false\r\nfunction init(config) {\r\n  var _touch =\r\n    'ontouchstart' in window ||\r\n    'onmsgesturechange' in window ||\r\n    !!navigator.MaxTouchPoints\r\n  var _targets\r\n  var _target\r\n  var _container\r\n  var i = 0\r\n  var j = 0\r\n\r\n  if (typeof config === 'undefined' || typeof config !== 'object') {\r\n    return\r\n  }\r\n  if ('touch' in config) {\r\n    _touch = config.touch\r\n  }\r\n  if ('selector' in config) {\r\n    _targets = document.querySelectorAll(config.selector)\r\n  }\r\n\r\n  if (_targets.length > 0) {\r\n    i = _targets.length\r\n\r\n    for (; i > j; j++) {\r\n      _target = _targets[j]\r\n      _container = _target.parentNode\r\n      handleHover(_target, _container, config, _touch)\r\n    }\r\n  }\r\n}\r\n\r\nfunction handleHover(target, container, config, touch) {\r\n  var _shadow\r\n  var _shine\r\n  var sensitivity = 0\r\n  var perspectiveProp = getProp([\r\n    'perspective',\r\n    'webkitPerspective',\r\n    'mozPerspective',\r\n  ])\r\n  var transformStyleProp = getProp([\r\n    'transformStyle',\r\n    'webkitTransformStyle',\r\n    'mozTransformStyle',\r\n  ])\r\n  var transformProp = getProp(['transform', 'webkitTransform', 'mozTransform'])\r\n  var backfaceVisProp = getProp([\r\n    'backfaceVisibility',\r\n    'webkitBackfaceVisibility',\r\n    'mozBackfaceVisibility',\r\n  ])\r\n  var willChangeProp = getProp(['willChange'])\r\n  var boxShadowProp = getProp(['boxShadow', 'webkitBoxShadow', 'mozBoxShadow'])\r\n  var userSelectProp = getProp([\r\n    'userSelect',\r\n    'webkitUserSelect',\r\n    'mozUserSelect',\r\n  ])\r\n  var transitionPropertyProp = getProp([\r\n    'transitionProperty',\r\n    'webkitTransitionProperty',\r\n    'mozTransitionProperty',\r\n  ])\r\n  var transitionDurationProp = getProp([\r\n    'transitionDuration',\r\n    'webkitTransitionDuration',\r\n    'mozTransitionDuration',\r\n  ])\r\n  var transitionDelayProp = getProp([\r\n    'transitionDelay',\r\n    'webkitTransitionDelay',\r\n    'mozTransitionDelay',\r\n  ])\r\n  var transitionTimingProp = getProp([\r\n    'transitionTimingFunction',\r\n    'webkitTransitionTimingFunction',\r\n    'mozTransitionTimingFunction',\r\n  ])\r\n\r\n  if (config.perspective && typeof config.perspective === 'number') {\r\n    container.style[perspectiveProp] = config.perspective + 'px'\r\n    target.style[perspectiveProp] = config.perspective + 'px'\r\n  } else {\r\n    container.style[perspectiveProp] = '1000px'\r\n    target.style[perspectiveProp] = '1000px'\r\n  }\r\n\r\n  container.style[transformStyleProp] = 'preserve-3d'\r\n  target.style[transformStyleProp] = 'preserve-3d'\r\n  container.style[userSelectProp] = 'none'\r\n  target.style[userSelectProp] = 'none'\r\n  target.style[transformProp] = 'rotateY(0deg) rotateX(0deg)'\r\n\r\n  if (config.sensitivity && typeof config.sensitivity === 'number') {\r\n    sensitivity = config.sensitivity\r\n  } else {\r\n    sensitivity = 20\r\n  }\r\n\r\n  if (touch) {\r\n    target.style[backfaceVisProp] = 'hidden'\r\n  }\r\n\r\n  if (config.position && typeof config.position === 'object') {\r\n    target.style.position = config.position.method\r\n    target.style.zIndex = config.position.zindex\r\n  } else {\r\n    target.style.position = 'relative'\r\n  }\r\n\r\n  if (config.transition && typeof config.transition === 'object') {\r\n    target.style[willChangeProp] = config.transition.prop\r\n    target.style[transitionPropertyProp] = config.transition.prop\r\n    target.style[transitionDurationProp] = getUnit(config.transition.duration)\r\n    target.style[transitionTimingProp] = getTFunc(config.transition.timing)\r\n  } else {\r\n    target.style[willChangeProp] = 'transform'\r\n    target.style[transitionPropertyProp] = 'transform'\r\n    target.style[transitionDurationProp] = '0.2s'\r\n    target.style[transitionTimingProp] = 'cubic-bezier(0.3, 1, 0.2, 1)'\r\n  }\r\n\r\n  if (config.shadow) {\r\n    _shadow = document.createElement('div')\r\n    _shadow.className = 'shadow'\r\n    _shadow.style.position = 'absolute'\r\n    _shadow.style.top = '5%'\r\n    _shadow.style.left = '5%'\r\n    _shadow.style.bottom = '5%'\r\n    _shadow.style.right = '5%'\r\n    _shadow.style.zIndex = 1\r\n    _shadow.style[transformProp] = 'translateZ(-2px)'\r\n    _shadow.style[boxShadowProp] = '0 8px 30px rgba(14, 21, 47, 0.6)'\r\n\r\n    if (config.transition && typeof config.transition === 'object') {\r\n      _shadow.style[willChangeProp] = 'box-shadow, transform'\r\n      _shadow.style[transitionPropertyProp] = 'box-shadow'\r\n      _shadow.style[transitionDurationProp] = getUnit(\r\n        config.transition.duration\r\n      )\r\n      _shadow.style[transitionTimingProp] = getTFunc(config.transition.timing)\r\n    } else {\r\n      _shadow.style[willChangeProp] = 'box-shadow, transform'\r\n      _shadow.style[transitionPropertyProp] = 'box-shadow'\r\n      _shadow.style[transitionDurationProp] = '0.2s'\r\n      _shadow.style[transitionTimingProp] = 'cubic-bezier(0.3, 1, 0.2, 1)'\r\n    }\r\n\r\n    target.appendChild(_shadow)\r\n  }\r\n\r\n  if (config.shine) {\r\n    _shine = document.createElement('div')\r\n    _shine.className = 'shine'\r\n    _shine.style.position = 'absolute'\r\n    _shine.style.top = 0\r\n    _shine.style.left = 0\r\n    _shine.style.bottom = 0\r\n    _shine.style.right = 0\r\n    _shine.style.zIndex = 9\r\n    _shine.style.opacity = 0\r\n\r\n    if (config.transition && typeof config.transition === 'object') {\r\n      _shine.style[willChangeProp] = 'opacity, transform'\r\n      _shine.style[transitionPropertyProp] = 'opacity'\r\n      _shine.style[transitionDurationProp] = getUnit(config.transition.duration)\r\n      _shine.style[transitionTimingProp] = getTFunc(config.transition.timing)\r\n    } else {\r\n      _shine.style[willChangeProp] = 'box-shadow, transform'\r\n      _shine.style[transitionPropertyProp] = 'box-shadow'\r\n      _shine.style[transitionDurationProp] = '0.2s'\r\n      _shine.style[transitionTimingProp] = 'cubic-bezier(0.3, 1, 0.2, 1)'\r\n    }\r\n\r\n    target.appendChild(_shine)\r\n  }\r\n\r\n  if (config.child3D && typeof config.child3D === 'number') {\r\n    var p = _target.children.length\r\n    var q = 0\r\n\r\n    for (; p > q; q++) {\r\n      if (\r\n        !config.shadow ||\r\n        target.children[q].className !== _shadow.className\r\n      ) {\r\n        if (\r\n          !config.shine ||\r\n          target.children[q].className !== _shine.className\r\n        ) {\r\n          target.children[q].style[transformProp] =\r\n            'translateZ(' + config.child3D + 'px)'\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  function enter() {\r\n    if (config.hoverClass && config.hoverInClass) {\r\n      target.className += ' ' + config.hoverClass + ' ' + config.hoverInClass\r\n      setTimeout(function () {\r\n        target.className = removeClass(target.className, config.hoverInClass)\r\n      }, 1000)\r\n    } else if (config.hoverClass) {\r\n      target.className += ' ' + config.hoverClass\r\n    } else if (config.hoverInClass) {\r\n      target.className += ' ' + config.hoverInClass\r\n      setTimeout(function () {\r\n        target.className = removeClass(target.className, config.hoverInClass)\r\n      }, 1000)\r\n    }\r\n  }\r\n\r\n  function move(e) {\r\n    var w = container.offsetWidth\r\n    var h = container.offsetHeight\r\n    var rect = target.getBoundingClientRect()\r\n    var ox = touch ? e.touches[0].clientX - rect.left : e.offsetX\r\n    var oy = touch ? e.touches[0].clientY - rect.top : e.offsetY\r\n    var ax = config.invert\r\n      ? -(w / 2 - ox) / sensitivity\r\n      : (w / 2 - ox) / sensitivity\r\n    var ay = config.invert\r\n      ? (h / 2 - oy) / sensitivity\r\n      : -(h / 2 - oy) / sensitivity\r\n    var dy = oy - h / 2\r\n    var dx = ox - w / 2\r\n    var theta = Math.atan2(dy, dx)\r\n    var ang = theta * (180 / Math.PI) - 90\r\n    var angle = ang < 0 ? ang + 360 : ang\r\n\r\n    if (config.scale) {\r\n      target.style[transformProp] =\r\n        'rotateY(' +\r\n        ax +\r\n        'deg) rotateX(' +\r\n        ay +\r\n        'deg) scale3d(1.05, 1.05, 1.05)'\r\n    } else {\r\n      target.style[transformProp] =\r\n        'rotateY(' + ax + 'deg) rotateX(' + ay + 'deg)'\r\n    }\r\n\r\n    if (config.shadow) {\r\n      _shadow.style[boxShadowProp] =\r\n        '0 24px 48px rgba(14, 21, 47, 0.4), 0 12px 24px rgba(14, 21, 47, 0.4)'\r\n    }\r\n\r\n    if (config.shine) {\r\n      _shine.style.opacity = 1\r\n      _shine.style.backgroundImage =\r\n        'linear-gradient(' +\r\n        angle +\r\n        'deg, rgba(230, 230, 230, ' +\r\n        (oy / h) * 0.5 +\r\n        ') 0%, transparent 80%)'\r\n    }\r\n  }\r\n\r\n  function leave() {\r\n    if (config.shadow) {\r\n      _shadow.style[boxShadowProp] = '0 8px 30px rgba(14, 21, 47, 0.6)'\r\n    }\r\n\r\n    if (!config.persist) {\r\n      target.style[transformProp] = 'rotateX(0deg) rotateY(0deg)'\r\n\r\n      if (config.shine) {\r\n        _shine.style.opacity = 0\r\n      }\r\n    }\r\n\r\n    if (config.hoverClass && config.hoverOutClass) {\r\n      target.className += ' ' + config.hoverOutClass\r\n      target.className = removeClass(target.className, config.hoverClass)\r\n      setTimeout(function () {\r\n        target.className = removeClass(target.className, config.hoverOutClass)\r\n      }, 1000)\r\n    } else if (config.hoverClass) {\r\n      target.className = removeClass(target.className, config.hoverClass)\r\n    } else if (config.hoverOutClass) {\r\n      target.className += ' ' + config.hoverOutClass\r\n      setTimeout(function () {\r\n        target.className = removeClass(target.className, config.hoverOutClass)\r\n      }, 1000)\r\n    }\r\n  }\r\n\r\n  if (touch) {\r\n    container.addEventListener('touchstart', function () {\r\n      if (!_prevent_scroll) {\r\n        _prevent_scroll = true\r\n      }\r\n      return enter()\r\n    })\r\n\r\n    container.addEventListener('touchmove', function (e) {\r\n      if (!!_prevent_scroll) {\r\n        e.preventDefault()\r\n      }\r\n      return move(e)\r\n    })\r\n\r\n    container.addEventListener('touchend', function () {\r\n      if (!!_prevent_scroll) {\r\n        window.preventScroll = false\r\n      }\r\n      return leave()\r\n    })\r\n  } else {\r\n    container.addEventListener('mouseenter', function () {\r\n      return enter()\r\n    })\r\n\r\n    container.addEventListener('mousemove', function (e) {\r\n      return move(e)\r\n    })\r\n\r\n    container.addEventListener('mouseleave', function () {\r\n      return leave()\r\n    })\r\n  }\r\n}\r\n\r\nfunction getProp(props) {\r\n  var i = props.length\r\n  var j = 0\r\n\r\n  for (; i > j; j++) {\r\n    if (typeof document.body.style[props[j]] !== 'undefined') {\r\n      return props[j]\r\n    }\r\n  }\r\n\r\n  return null\r\n}\r\n\r\nfunction getUnit(t) {\r\n  if (typeof t !== 'number') {\r\n    console.warn('Please provide a numeric value')\r\n    return '0.2s'\r\n  } else if (t > 1 && t <= 50) {\r\n    return '0.' + t + 's'\r\n  } else if (t > 50) {\r\n    return t + 'ms'\r\n  } else {\r\n    return t + 's'\r\n  }\r\n}\r\n\r\nfunction getTFunc(tf) {\r\n  var tfl = tf.length\r\n\r\n  if (tf.constructor !== Array) {\r\n    console.warn('Bad input: expected array')\r\n    return 'none'\r\n  } else if (tfl === 4) {\r\n    if (\r\n      typeof tf[0] === 'number' &&\r\n      typeof tf[1] === 'number' &&\r\n      typeof tf[2] === 'number' &&\r\n      typeof tf[3] === 'number'\r\n    ) {\r\n      return (\r\n        'cubic-bezier(' +\r\n        tf[0] +\r\n        ', ' +\r\n        tf[1] +\r\n        ', ' +\r\n        tf[2] +\r\n        ', ' +\r\n        tf[3] +\r\n        ')'\r\n      )\r\n    } else {\r\n      console.warn('Bad input: expected numbers')\r\n      return 'none'\r\n    }\r\n  } else {\r\n    console.warn('Bad input: expected four values')\r\n    return 'none'\r\n  }\r\n}\r\n\r\nfunction removeClass(cssClasses, cssClass) {\r\n  var rxp = new RegExp(cssClass + '\\\\s*', 'gi')\r\n  return cssClasses\r\n    .replace(rxp, '')\r\n    .replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, '')\r\n}\r\n\r\nfunction rebounce(func) {\r\n  var scheduled, context, args, i, j\r\n  return function () {\r\n    context = this\r\n    args = []\r\n    i = arguments.length\r\n    j = 0\r\n\r\n    for (; j < i; ++j) {\r\n      args[j] = arguments[j]\r\n    }\r\n\r\n    if (!!scheduled) {\r\n      window.cancelAnimationFrame(scheduled)\r\n    }\r\n\r\n    scheduled = window.requestAnimationFrame(function () {\r\n      func.apply(context, args)\r\n      scheduled = null\r\n    })\r\n  }\r\n}\r\n\r\n/**\r\n * 动态加载JS文件的方法\r\n * Load javascript file method\r\n *\r\n * @param {String}   fileName              JS文件名\r\n * @param {Function} [callback=function()] 加载成功后执行的回调函数\r\n * @param {String}   [into='head']         嵌入页面的位置\r\n */\r\nfunction loadScript(fileName, callback, into) {\r\n  into = into || 'body'\r\n  callback = callback || function () {}\r\n  var script = null\r\n  script = document.createElement('script')\r\n  script.type = 'text/javascript'\r\n  script.src = fileName\r\n  script.onload = function () {\r\n    loadFiles.js.push(fileName)\r\n    callback()\r\n  }\r\n  if (into === 'head') {\r\n    document.getElementsByTagName('head')[0].appendChild(script)\r\n  } else {\r\n    document.body.appendChild(script)\r\n  }\r\n}\r\n\r\n/**\r\n * 动态加载CSS文件的方法\r\n * Load css file method\r\n *\r\n * @param {String}   fileName              CSS文件名\r\n * @param {Function} [callback=function()] 加载成功后执行的回调函数\r\n * @param {String}   [into='head']         嵌入页面的位置\r\n */\r\nfunction loadCSS(fileName, callback, into) {\r\n  into = into || 'head'\r\n  callback = callback || function () {}\r\n\r\n  var css = document.createElement('link')\r\n  css.type = 'text/css'\r\n  css.rel = 'stylesheet'\r\n  css.onload = css.onreadystatechange = function () {\r\n    loadFiles.css.push(fileName)\r\n    callback()\r\n  }\r\n  css.href = fileName\r\n  if (into === 'head') {\r\n    document.getElementsByTagName('head')[0].appendChild(css)\r\n  } else {\r\n    document.body.appendChild(css)\r\n  }\r\n}\r\n\r\n/**\r\n * 日夜模式 - 加载\r\n */\r\nfunction initTheme() {\r\n  var darkThemeSelected =\r\n    localStorage.getItem('darkSwitch') !== null &&\r\n    localStorage.getItem('darkSwitch') === 'dark'\r\n  darkSwitch.checked = darkThemeSelected\r\n  if (darkThemeSelected) {\r\n    document.body.setAttribute('data-theme', 'dark')\r\n    document.querySelector('.dark-switch-label-span').innerHTML =\r\n      '<i class=\"fas fa-sun\"></i>'\r\n  } else {\r\n    document.body.removeAttribute('data-theme')\r\n    document.querySelector('.dark-switch-label-span').innerHTML =\r\n      '<i class=\"fas fa-moon\"></i>'\r\n  }\r\n}\r\n\r\n/**\r\n * 日夜模式 - 重置\r\n */\r\nfunction resetTheme() {\r\n  if (darkSwitch.checked) {\r\n    document.body.setAttribute('data-theme', 'dark')\r\n    document.querySelector('.dark-switch-label-span').innerHTML =\r\n      '<i class=\"fas fa-sun\"></i>'\r\n    localStorage.setItem('darkSwitch', 'dark')\r\n  } else {\r\n    document.body.removeAttribute('data-theme')\r\n    document.querySelector('.dark-switch-label-span').innerHTML =\r\n      '<i class=\"fas fa-moon\"></i>'\r\n    localStorage.removeItem('darkSwitch')\r\n  }\r\n}\r\n\r\n/**\r\n * 是否在页面最顶部\r\n * @returns {boolean} true = 是在页面顶部\r\n */\r\nfunction isScrollTop() {\r\n  return $(document).scrollTop() <= 0\r\n}\r\n\r\nfunction log() {\r\n  console.log('已经动态加载资源：', loadFiles)\r\n}\r\n\r\n/**\r\n * 页面初始化要执行的事件\r\n */\r\nfunction initPage() {\r\n  $(function () {\r\n    //初始化顶栏透明\r\n    isScrollTop() ? addTopNav() : removeTopNav()\r\n    //滚动顶栏透明\r\n    $(window).scroll(function () {\r\n      isScrollTop() ? addTopNav() : removeTopNav()\r\n    })\r\n    // 移动端点击菜单按钮添加样式\r\n    $('.navbar-toggler').click(function (event) {\r\n      if ($(this).attr('aria-expanded') === 'false') {\r\n        if (isScrollTop()) {\r\n          $('nav.navbar')\r\n            .removeClass(['navbar-dark', 'top-nav'])\r\n            .addClass('navbar-light')\r\n        }\r\n        $('html').addClass('overflow-hidden')\r\n      } else {\r\n        if (isScrollTop()) {\r\n          $('nav.navbar')\r\n            .addClass(['navbar-dark', 'top-nav'])\r\n            .removeClass('navbar-light')\r\n        }\r\n        $('html').removeClass('overflow-hidden')\r\n      }\r\n    })\r\n    // 回到顶部\r\n    var returnTop = $('#return-to-top')\r\n    $(window).scroll(function () {\r\n      if ($(this).scrollTop() >= 50) {\r\n        returnTop.addClass('bounceInRight').removeClass('bounceOutDown')\r\n      } else {\r\n        returnTop.removeClass('bounceInRight').addClass('bounceOutDown')\r\n      }\r\n    })\r\n    returnTop.click(function () {\r\n      $('body,html').animate(\r\n        {\r\n          scrollTop: 0,\r\n        },\r\n        500\r\n      )\r\n    })\r\n  })\r\n\r\n  /**\r\n   * 文章列表动效\r\n   */\r\n  pivot.init({\r\n    selector: '.site-post-list .post-card-image-link',\r\n    sensitivity: 80,\r\n    touch: false,\r\n  })\r\n\r\n  if (document.querySelector('.post-content pre code') !== null) {\r\n    //Prism高亮支持\r\n    if (typeof window.Prism === 'undefined') {\r\n      loadCSS(\r\n        '//cdn.jsdelivr.net/npm/prismjs@1.15.0/themes/prism-tomorrow.min.css'\r\n      )\r\n      loadScript(\r\n        '//cdn.jsdelivr.net/npm/prismjs/components/prism-core.min.js',\r\n        function () {\r\n          loadScript(\r\n            '//cdn.jsdelivr.net/npm/prismjs/plugins/autoloader/prism-autoloader.min.js',\r\n            function () {\r\n              //将html代码块支持高亮\r\n              $('.post-content pre code').attr('class', function (i, clazz) {\r\n                if (clazz !== undefined) {\r\n                  return clazz.replace(/language-html/g, 'language-markup')\r\n                }\r\n              })\r\n              //设置高亮语言样式文件地址\r\n              if (window.Prism !== 'undefined') {\r\n                Prism.plugins.autoloader.languages_path =\r\n                  '//cdn.jsdelivr.net/npm/prismjs/components/'\r\n                Prism.highlightAll()\r\n              }\r\n            }\r\n          )\r\n        }\r\n      )\r\n      //行号\r\n      loadCSS(\r\n        '//cdn.jsdelivr.net/npm/prismjs/plugins/line-numbers/prism-line-numbers.min.css'\r\n      )\r\n      loadScript(\r\n        '//cdn.jsdelivr.net/npm/prismjs/plugins/line-numbers/prism-line-numbers.min.js'\r\n      )\r\n      //支持行号显示\r\n      $('.post-content pre').addClass('line-numbers')\r\n      //显示语言或者粘贴\r\n      loadCSS(\r\n        '//cdn.jsdelivr.net/npm/prismjs/plugins/toolbar/prism-toolbar.min.css'\r\n      )\r\n      loadScript(\r\n        '//cdn.jsdelivr.net/npm/prismjs/plugins/toolbar/prism-toolbar.min.js'\r\n      )\r\n      loadScript(\r\n        '//cdn.jsdelivr.net/npm/prismjs/plugins/show-language/prism-show-language.min.js'\r\n      )\r\n      loadScript('//cdn.jsdelivr.net/npm/clipboard/dist/clipboard.min.js')\r\n      loadScript(\r\n        '//cdn.jsdelivr.net/npm/prismjs/plugins/copy-to-clipboard/prism-copy-to-clipboard.min.js'\r\n      )\r\n    } else {\r\n      //将html代码块支持高亮\r\n      $('.post-content pre code').attr('class', function (i, clazz) {\r\n        if (clazz !== undefined) {\r\n          return clazz.replace(/language-html/g, 'language-markup')\r\n        }\r\n      })\r\n      //设置高亮语言样式文件地址\r\n      if (window.Prism !== 'undefined') {\r\n        Prism.plugins.autoloader.languages_path =\r\n          '//cdn.jsdelivr.net/npm/prismjs/components/'\r\n        Prism.highlightAll()\r\n      }\r\n      //支持行号显示\r\n      $('.post-content pre').addClass('line-numbers')\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 图箱支持\r\n   */\r\n  if ($('.post-content img').length !== 0) {\r\n    var initConfig = function () {\r\n      var zoom = mediumZoom(document.querySelectorAll('.post-content img'), {\r\n        background: '#fff',\r\n      })\r\n      zoom.on('open', function (event) {})\r\n      zoom.detach('img.kg-bookmark-icon', '.kg-bookmark-thumbnail img')\r\n    }\r\n    if (typeof window.mediumZoom === 'undefined') {\r\n      loadScript(\r\n        '//cdn.jsdelivr.net/npm/medium-zoom/dist/medium-zoom.min.js',\r\n        function () {\r\n          initConfig()\r\n        }\r\n      )\r\n    } else {\r\n      initConfig()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 日夜切换\r\n   */\r\n  var darkSwitch = document.getElementById('darkSwitch')\r\n  if (darkSwitch) {\r\n    initTheme()\r\n    darkSwitch.addEventListener('change', function (event) {\r\n      resetTheme()\r\n    })\r\n  }\r\n\r\n  /**\r\n   * 添加导航样式\r\n   */\r\n  function addTopNav() {\r\n    $('nav.navbar')\r\n      .addClass('top-nav')\r\n      .addClass('navbar-dark')\r\n      .removeClass('navbar-light')\r\n  }\r\n\r\n  /**\r\n   * 移除导航样式\r\n   */\r\n  function removeTopNav() {\r\n    $('nav.navbar')\r\n      .removeClass('top-nav')\r\n      .removeClass('navbar-dark')\r\n      .addClass('navbar-light')\r\n  }\r\n\r\n  /**\r\n   * 弹窗提醒\r\n   */\r\n  if (!Boolean(localStorage.noPopUp)) {\r\n    $('#toast')\r\n      .toast({\r\n        autohide: true,\r\n        delay: 5000,\r\n      })\r\n      .toast('show')\r\n    $('#toast .close').click(function () {\r\n      localStorage.setItem('noPopUp', true)\r\n    })\r\n  } else {\r\n    $('#toast').toast('hide')\r\n  }\r\n}\r\n\r\n// 页面初始化执行\r\n$(document).ready(function () {\r\n  initPage()\r\n})\r\n\r\nwindow.onload = function () {\r\n  log()\r\n}\r\n\r\n// app.js\r\n\r\n// var valineOptions = {\r\n//   el: '#vcomments',\r\n//   appId: leancloudAppId,\r\n//   appKey: leancloudAppKey,\r\n//   // serverURLs: leancloudServerURL,\r\n//   notify: true,\r\n//   verify: true,\r\n//   avatar: 'mm',\r\n//   visitor: true, // 文章访问量统计\r\n//   highlight: true, // 代码高亮\r\n//   recordIP: true, // 是否记录评论者IP\r\n//   placeholder: '请您理智发言，共建美好社会！',\r\n//   path: window.location.pathname, // **请确保必须写该属性\r\n// }\r\n\r\n/**\r\n * 分页业务 - 创建\r\n */\r\nfunction createPagination() {\r\n  var url = window.location.href\r\n  var currPageElm = document.querySelector('.curr-page')\r\n  var totalPagesElm = document.querySelector('.total-pages')\r\n  if (!currPageElm || !totalPagesElm) return\r\n  var currentPage = Number.parseInt(currPageElm.textContent, 10)\r\n  var totalPages = Number.parseInt(totalPagesElm.textContent, 10)\r\n  var paginationElm = document.querySelector('.pagination')\r\n  var paginationPrev = document.querySelector('.page-item')\r\n  if (totalPages > 1) {\r\n    var paginationItems = []\r\n    var paginationArr = pagination(currentPage, totalPages)\r\n    paginationArr.forEach(function (pagElm) {\r\n      var urlArray = url.split('/')\r\n      if (pagElm === currentPage) {\r\n        paginationItems.push(\r\n          '<li class=\"page-item active\"><span class=\"page-link\">' +\r\n            pagElm +\r\n            '</span></li>'\r\n        )\r\n      } else if (typeof pagElm === 'number') {\r\n        if (urlArray[urlArray.length - 3] === 'page') {\r\n          url = url.replace(/\\/page\\/.*$/, '') + '/'\r\n        }\r\n        paginationItems.push(\r\n          '<li class=\"page-item\"><a class=\"page-link\" href=\"' +\r\n            url +\r\n            'page/' +\r\n            pagElm +\r\n            '/\" aria-label=\"第' +\r\n            pagElm +\r\n            '页\">' +\r\n            pagElm +\r\n            '</a></li>'\r\n        )\r\n      } else {\r\n        paginationItems.push(\r\n          '<li class=\"page-item ellipsis\"><a class=\"page-link\">...</a></li>'\r\n        )\r\n      }\r\n    })\r\n    if (paginationPrev !== null) {\r\n      currentPage === 1\r\n        ? paginationPrev.insertAdjacentHTML(\r\n            'beforebegin',\r\n            paginationItems.join('')\r\n          )\r\n        : paginationPrev.insertAdjacentHTML(\r\n            'afterend',\r\n            paginationItems.join('')\r\n          )\r\n    }\r\n  } else if (paginationElm != null) {\r\n    paginationElm.style.display = 'none'\r\n  }\r\n}\r\n/**\r\n * 分页业务 - 过程\r\n */\r\nfunction pagination(currentPage, pageCount) {\r\n  var range = []\r\n  var delta = 2\r\n  for (\r\n    var i = Math.max(2, currentPage - delta);\r\n    i <= Math.min(pageCount - 1, currentPage + delta);\r\n    i++\r\n  ) {\r\n    range.push(i)\r\n  }\r\n  if (currentPage - delta > 2) range.unshift('...')\r\n  if (currentPage + delta < pageCount - 1) range.push('...')\r\n  range.unshift(1)\r\n  range.push(pageCount)\r\n  return range\r\n}\r\n\r\n/**\r\n * valine 评论支持\r\n */\r\nfunction valineInit() {\r\n  var initConfig = function () {\r\n    if (document.getElementById('vcomments') !== null) {\r\n      new Valine(valineOptions)\r\n    }\r\n  }\r\n\r\n  if ($('#vcomments').length !== 0) {\r\n    if (typeof window.Valine === 'undefined') {\r\n      loadScript(\r\n        '//cdn.jsdelivr.net/npm/leancloud-storage/dist/av-min.js',\r\n        function () {\r\n          loadScript(\r\n            'https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js',\r\n            function () {\r\n              return initConfig()\r\n            }\r\n          )\r\n        }\r\n      )\r\n    } else {\r\n      return initConfig()\r\n    }\r\n  }\r\n\r\n  // if ($.support.pjax) {\r\n  //   $(document).on('click', 'a[search-pjax]', function (event) {\r\n  //     $.pjax.click(event, { container: '.site-warp' })\r\n  //     $('.app-search-result').removeClass('active')\r\n  //   })\r\n  // }\r\n}\r\n\r\n/**\r\n * 搜索功能支持\r\n */\r\nfunction searchInit() {\r\n  var initConfig = function () {\r\n    new GhostSearch({\r\n      host: [location.protocol, '//', location.host].join(''),\r\n      version: 'v3',\r\n      key: ghostSearchkey,\r\n      url: [location.protocol, '//', location.host].join(''),\r\n      trigger: 'focus',\r\n      defaultValue: '',\r\n      options: {\r\n        keys: ['title', 'published_at', 'url'],\r\n      },\r\n      api: {\r\n        parameters: {\r\n          fields: ['title', 'published_at', 'url'],\r\n        },\r\n      },\r\n      template: function (results) {\r\n        var time = dayjs(results.published_at).format('YYYY年MM月DD日')\r\n        return (\r\n          '' +\r\n          '<a search-pjax href=\"' +\r\n          results.url +\r\n          '\" class=\"ghost-search-item\">' +\r\n          '<h2>' +\r\n          results.title +\r\n          '</h2>' +\r\n          '<span>发布日期：' +\r\n          time +\r\n          '</span>' +\r\n          '</a>'\r\n        )\r\n      },\r\n      on: {\r\n        afterDisplay: function (result) {\r\n          var mate = $('.search-meta')\r\n          var text = mate.attr('data-no-results-text')\r\n          text = text.replace('[results]', result.total)\r\n          mate.text(text).show()\r\n        },\r\n      },\r\n    })\r\n\r\n    // 搜索关键词\r\n    $('#nav-top-search').keypress(function (event) {\r\n      if (event.which === 13) {\r\n        $('.app-search-result').addClass('active')\r\n        $('html').addClass('overflow-hidden')\r\n        // todo 优化搜索 有几次搜索结果不显示\r\n        $('#ghost-search-field').val($(this).val()).focus()\r\n      }\r\n    })\r\n    // 手机关键词搜索\r\n    $('#mobile-search').keypress(function (event) {\r\n      if (event.which === 13) {\r\n        $('.app-search-result').addClass('active')\r\n        $('html').addClass('overflow-hidden')\r\n        // todo 优化搜索 有几次搜索结果不显示\r\n        $('#ghost-search-field').val($(this).val()).focus()\r\n      }\r\n    })\r\n\r\n    $('.search-close').click(function () {\r\n      $('.app-search-result').removeClass('active')\r\n      $('#nav-top-search').val('')\r\n      $('html').removeClass('overflow-hidden')\r\n    })\r\n\r\n    if ($.support.pjax) {\r\n      $(document).on('click', 'a[search-pjax]', function (event) {\r\n        $.pjax.click(event, { container: '.site-warp' })\r\n        $('.app-search-result').removeClass('active')\r\n        $('#nav-top-search').val('')\r\n        $('html').removeClass('overflow-hidden')\r\n      })\r\n    }\r\n  }\r\n  if ($('#ghost-search-field').length !== 0) {\r\n    if (typeof window.GhostSearch === 'undefined') {\r\n      loadScript(\r\n        '//cdn.jsdelivr.net/npm/@tryghost/content-api/umd/content-api.min.js',\r\n        function () {\r\n          loadScript(\r\n            '//cdn.jsdelivr.net/npm/ghost-search/dist/ghost-search.min.js',\r\n            function () {\r\n              loadScript(\r\n                '//cdn.jsdelivr.net/npm/dayjs/dayjs.min.js',\r\n                function () {\r\n                  initConfig()\r\n                }\r\n              )\r\n            }\r\n          )\r\n        }\r\n      )\r\n    } else {\r\n      initConfig()\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * 监听点击链接时间，非本站链接进行新标签打开\r\n */\r\nfunction watchSiteLink() {\r\n  $(document).on('click', 'a', function (event) {\r\n    var link = event.target.href // 完整链接\r\n    var host = event.target.hostname\r\n    if (\r\n      /^https?:\\/\\/(([a-zA-Z0-9_-])+(\\.)?)*(:\\d+)?(\\/((\\.)?(\\?)?=?&?[a-zA-Z0-9_-](\\?)?)*)*$/i.test(\r\n        link\r\n      )\r\n    ) {\r\n      if (host !== window.location.hostname) {\r\n        event.preventDefault()\r\n        window.open(event.target.href)\r\n      }\r\n    }\r\n  })\r\n}\r\n\r\n// 百度统计\r\nif (config.baiduTongji) {\r\n  initBaiduTongji()\r\n}\r\n// 评论\r\nif(config.valineOptions){\r\n  initValine(config.valineOptions)\r\n}\r\n\r\n;(function ($) {\r\n  $(document).ready(function () {\r\n    // valineInit()\r\n    // searchInit();\r\n    watchSiteLink()\r\n    createPagination()\r\n  })\r\n})(jQuery)\r\n","/**\r\n * @name:\r\n * @author: SunSeekerX\r\n * @Date: 2020-05-28 17:23:25\r\n * @LastEditors: SunSeekerX\r\n * @LastEditTime: 2020-05-28 17:26:32\r\n */\r\n\r\n/**\r\n * 动态加载JS文件的方法\r\n * Load javascript file method\r\n *\r\n * @param {String}   fileName              JS文件名\r\n * @param {Function} [callback=function()] 加载成功后执行的回调函数\r\n * @param {String}   [into='head']         嵌入页面的位置\r\n */\r\nexport function loadScript(fileName, callback, into) {\r\n  into = into || 'body'\r\n  callback = callback || function () {}\r\n  var script = null\r\n  script = document.createElement('script')\r\n  script.type = 'text/javascript'\r\n  script.src = fileName\r\n  script.onload = function () {\r\n    loadFiles.js.push(fileName)\r\n    callback()\r\n  }\r\n  if (into === 'head') {\r\n    document.getElementsByTagName('head')[0].appendChild(script)\r\n  } else {\r\n    document.body.appendChild(script)\r\n  }\r\n}\r\n"],"sourceRoot":""}